{
  "name": "Hotel Management Bot",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "webhook",
        "responseMode": "responseNode",
        "options": {}
      },
      "id": "webhook-start",
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [
        240,
        300
      ]
    },
    {
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{$json.message.text}}",
              "operation": "contains",
              "value2": "‡∏à‡∏≠‡∏á"
            }
          ]
        }
      },
      "id": "if-booking",
      "name": "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏à‡∏≠‡∏á",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [
        460,
        300
      ]
    },
    {
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{$json.message.text}}",
              "operation": "contains",
              "value2": "‡∏Ñ‡πà‡∏≤‡πÑ‡∏ü"
            }
          ]
        }
      },
      "id": "if-utilities",
      "name": "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡πà‡∏≤‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏π‡∏õ‡πÇ‡∏†‡∏Ñ",
      "typeVersion": 1,
      "position": [
        460,
        500
      ]
    },
    {
      "parameters": {
        "url": "http://localhost:8000/api/create_booking",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"action\": \"generate_id\",\n  \"type\": \"booking\"\n}",
        "options": {}
      },
      "id": "create-booking",
      "name": "‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [
        680,
        200
      ]
    },
    {
      "parameters": {
        "url": "http://localhost:8000/api/calculate_utilities",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"action\": \"calculate_utilities\",\n  \"‡πÑ‡∏ü‡πÄ‡∏Å‡πà‡∏≤\": {{$json.‡πÑ‡∏ü‡πÄ‡∏Å‡πà‡∏≤}},\n  \"‡πÑ‡∏ü‡πÉ‡∏´‡∏°‡πà\": {{$json.‡πÑ‡∏ü‡πÉ‡∏´‡∏°‡πà}},\n  \"‡∏ô‡πâ‡∏≥‡πÄ‡∏Å‡πà‡∏≤\": {{$json.‡∏ô‡πâ‡∏≥‡πÄ‡∏Å‡πà‡∏≤}},\n  \"‡∏ô‡πâ‡∏≥‡πÉ‡∏´‡∏°‡πà\": {{$json.‡∏ô‡πâ‡∏≥‡πÉ‡∏´‡∏°‡πà}}\n}",
        "options": {}
      },
      "id": "calculate-utilities",
      "name": "‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡πÑ‡∏ü‡∏ô‡πâ‡∏≥",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [
        680,
        500
      ]
    },
    {
      "parameters": {
        "chatId": "={{$json.message.chat.id}}",
        "text": "=‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!\n‡∏£‡∏´‡∏±‡∏™‡∏à‡∏≠‡∏á: {{$json.id}}\n‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Å‡πá‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏µ‡πâ‡πÑ‡∏ß‡πâ"
      },
      "id": "reply-booking",
      "name": "‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1,
      "position": [
        900,
        200
      ]
    },
    {
      "parameters": {
        "chatId": "={{$json.message.chat.id}}",
        "text": "=‡∏Ñ‡πà‡∏≤‡πÑ‡∏ü‡∏ô‡πâ‡∏≥‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏î‡∏∑‡∏≠‡∏ô:\nüí° ‡πÑ‡∏ü: {{$json.data.‡∏´‡∏ô‡πà‡∏ß‡∏¢‡πÑ‡∏ü}} ‡∏´‡∏ô‡πà‡∏ß‡∏¢ = {{$json.data.‡∏Ñ‡πà‡∏≤‡πÑ‡∏ü}} ‡∏ö‡∏≤‡∏ó\nüíß ‡∏ô‡πâ‡∏≥: {{$json.data.‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ô‡πâ‡∏≥}} ‡∏´‡∏ô‡πà‡∏ß‡∏¢ = {{$json.data.‡∏Ñ‡πà‡∏≤‡∏ô‡πâ‡∏≥}} ‡∏ö‡∏≤‡∏ó\nüí∞ ‡∏£‡∏ß‡∏°: {{$json.data.‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°}} ‡∏ö‡∏≤‡∏ó"
      },
      "id": "reply-utilities",
      "name": "‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡πÑ‡∏ü‡∏ô‡πâ‡∏≥",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1,
      "position": [
        900,
        500
      ]
    },
    {
      "parameters": {
        "respondWith": "text",
        "responseBody": "=OK"
      },
      "id": "response",
      "name": "Response",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1,
      "position": [
        1120,
        300
      ]
    }
  ],
  "connections": {
    "Webhook": {
      "main": [
        [
          {
            "node": "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏à‡∏≠‡∏á",
            "type": "main",
            "index": 0
          },
          {
            "node": "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡πà‡∏≤‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏π‡∏õ‡πÇ‡∏†‡∏Ñ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏à‡∏≠‡∏á": {
      "main": [
        [
          {
            "node": "‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡πà‡∏≤‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏π‡∏õ‡πÇ‡∏†‡∏Ñ": {
      "main": [
        [
          {
            "node": "‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡πÑ‡∏ü‡∏ô‡πâ‡∏≥",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á": {
      "main": [
        [
          {
            "node": "‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡πÑ‡∏ü‡∏ô‡πâ‡∏≥": {
      "main": [
        [
          {
            "node": "‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡πÑ‡∏ü‡∏ô‡πâ‡∏≥",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á": {
      "main": [
        [
          {
            "node": "Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡πÑ‡∏ü‡∏ô‡πâ‡∏≥": {
      "main": [
        [
          {
            "node": "Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}